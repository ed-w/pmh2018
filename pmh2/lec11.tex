\section{2018-04-16 Lecture}

\begin{exam}
	Let $\phi:R \to R$ be a ring homomorphism but not an isomorphism.
	Then define $R^\phi$ to be the $R$-module given by the abelian group $R$ and multiplication
	\begin{align*}
		\mu_{R^\phi}: r &\times R^\phi \to R^\phi \\
		(r,m) &\mapsto \phi(r)m
	\end{align*}
	where the multiplication is just the normal multiplication in $R$.
	Then $R^\phi \not\cong R$ as an $R$-module.
\end{exam}

If $k$ is a field and $A \in \Mat_n(k)$, then the characteristic polynomial is the polynomial $p_A(x) = \det(xI_n-A) \subseteq k[x]$ and satisfies $p_A(A)=0$.

\begin{thm}[Cayley-Hamilton]
	Let $N = (a_{ij}) \subseteq M_n(R)$ and $p_A(x) = \det(xI_n-A) \in R[x]$ for some commutative ring $R$.
	Then $p_N$ is a monic polynomial of degree $n$ such that $p_N(N)=0$.
\end{thm}

\begin{proof}
	Define $\phi: R^n \to R^n$ as $\phi(v)=vN$ where $v=(v_1,\ldots,v_n) \in R^n$.
	\[\phi(e_k) = \sum_{i=1}^n a_{ki}e_i\]
	for all $k$.
	We can rewrite the above equation as
	\[\sum_{i=1}^n (\delta_{ki}\phi-a_{ki})e_i=0\]
	Let $\wh{N}=(\delta_{ni}\phi-a_{ki})_{ni} \in \Mat_n(\wh R)$ where $\wh R$ is the (commutative) subring of $\End_R(R^n)$ generated by $\phi$ and scalar multiples of $I_n$.

	Let $\adj \wh N = (b_{kl})$ be the adjunct matrix of $\wh N$.
	Then the Laplace expansion rule gives
	\[ (\adj\wh N)\wh N = \wh N(\adj\wh N) = (\det\wh N) I_n.\]
	Then multiplying through by $b_{jk}$ and summing gives
	\[0 = \sum_{k=1}^n g_{jk} \sum_{i=1}^n (\delta_{ki}\phi-a_{ki})e_i = \sum_{i=1}^n \left( \sum_{k=1}^n b_{jk}(\delta_{ki}\phi-a_{ki})\right)e_i = \sum_{i=1}^n (\det \wh N)\delta_{ij} e_j = (\det \wh N)e_j\]
	for all $j$.
	Thus $\det \wh N=0$.
	
	Now there is a homomorphism of commutative rings from $R[x]$ to $\wh R$ which takes $r \in R$ to $rI_n$ and $x$ to $\phi$.
	We have $p_N(x) = \det(xI_n-N) \in R[x]$.
	Then $p_N(x)$ maps to $p_N(N) = \det (\wh N) = 0$.
\end{proof}

\begin{prop}[1.20]
	Let $M$ be a module generated by $n$ elements and $\phi \in \End_R(M)$.
	Let $I$ be an ideal of $R$ such that $\phi[M] \subseteq IM$.
	Then there exist elements $r_1,\ldots,r_n \in I$ such that $\phi^n+r_n\phi^{n-1}+\cdots+r_n=0 \in \End_R(M)$.
\end{prop}

\begin{proof}
	Let $m_1,\ldots,m_n$ be the generators of $M$ and define $r_{ij}$ by
	\[\phi(m_i)=\sum_{j=1}^n r_{ij}m_j\]
	or equivalently
	\[\sum_{j=1}^n (\delta_{ij}\phi-r_{ij}\id)(m_{ij})=0\]
	Then repeat the proof of the Cayley-Hamilton theorem.
\end{proof}	

\begin{cor}[1.21]
	Let $M$ be a finitely generated $R$-module and $I<R$ such that $IM=M$.
	Then there exists an $x \in R$ such that $x \equiv 1 \bmod I$ and $xM=0$.
\end{cor}

\begin{proof}
	Use the proposition 1.20 with $\phi=\id_M$.
	Then take $x=1+r_1+\cdots+r_n$ as in the proof of proposition 1.20.
\end{proof}

\begin{cor}[Nakayama's lemma, 1.22]
	Let $R$ be a local ring with (unique) maximal ideal $\km$ and $M$ a finitely generated module such that $\km M=M$.
	Then $M=0$.
\end{cor}

\begin{proof}
	Use corollary 1.21.
	For $I=\km$, there exists an $x \in R$ such that $x \equiv 1 \bmod \km$ and $xM=0$.
	Then $1+x \in \km$ so $x$ is a unit.
	Then $M=0$.
\end{proof}

\begin{cor}[1.23]
	Let $R$ be a local ring with maximal ideal $\km$, and $M$ an $R$-module with $N \subseteq M$ an $R$-submodule.
	If $M$ is finitely generated and $N=N+\km M$, then $M=N$.
\end{cor}

\begin{proof}
	Apply corollary 1.22 to $M/N$.
	Since $\km M/N=M/N$, we have $M/N=0$ and so $M=N$.
\end{proof}

\begin{rmk}
	As in corollary 1.23, let $M$ be a finitely generated $R$-module and let $v_1,ldots,v_n$ be a basis of $M/\km M$ as a vector space over the residue field $R/\km$.
	Then set $m_i \in M$ such that $m_i \equiv v_i \bmod \km$.
	Apply corollary 1.23 to $N=\ang{m_1,\ldots,m_n} \subseteq M$.
	Then $M=N+\km M$, so $M=N$.
\end{rmk}

\begin{rmk}
	The finitely generated condition is necessary.
	Let $R=k[[x]]$ and $M=k^\NN$.
	Define the multiplication by
	\begin{align*}
		1 \cdot m &= m \\
		x \cdot e_i &=
			\begin{cases}
				e_{i-1} & i>1 \\
				0 & i=1
			\end{cases}
	\end{align*}
	Now take $\km = x$.
	Then $\km M = (x)M = M \neq 0$.
	We can get counterexamples to the other statements in a similar manner.
\end{rmk}
